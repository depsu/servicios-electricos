---
interface Props {
    title?: string;
    subtitle?: string;
}

const { 
    title = "Contáctanos", 
    subtitle = "Completa el formulario y te responderemos a la brevedad."
} = Astro.props;
---

<section class="py-20 bg-white">
    <div class="container mx-auto px-4 max-w-3xl">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{title}</h2>
            <p class="text-lg text-slate-600">{subtitle}</p>
        </div>

        <form 
            action="https://formsubmit.co/tu-email@ejemplo.com" 
            method="POST" 
            class="bg-slate-50 p-8 rounded-2xl border border-slate-200 shadow-sm"
        >
            <!-- IMPORTANTE: Reemplazar 'tu-email@ejemplo.com' con tu email real -->
            
            <!-- Configuración de Formsubmit -->
            <input type="hidden" name="_subject" value="Nuevo mensaje desde el sitio web">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_template" value="table">
            <input type="hidden" name="_next" value="https://tu-dominio.com/gracias">
            <!-- IMPORTANTE: Reemplazar 'https://tu-dominio.com/gracias' con la URL completa de tu sitio -->
            <!-- Ejemplo: https://miempresa.cl/gracias -->
            <!-- Para desarrollo local: http://localhost:4321/gracias -->
            
            <!-- Honeypot para anti-spam -->
            <input type="text" name="_honey" style="display:none">

            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="name" class="block text-sm font-bold text-slate-700 mb-2">
                        Nombre Completo <span class="text-red-500">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        required 
                        class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"
                        placeholder="Juan Pérez"
                    >
                </div>

                <div>
                    <label for="email" class="block text-sm font-bold text-slate-700 mb-2">
                        Email <span class="text-red-500">*</span>
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        required 
                        class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"
                        placeholder="juan@ejemplo.com"
                    >
                </div>
            </div>

            <div class="mb-6">
                <label for="phone" class="block text-sm font-bold text-slate-700 mb-2">
                    Teléfono
                </label>
                <input 
                    type="tel" 
                    id="phone" 
                    name="phone" 
                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition"
                    placeholder="+56 9 1234 5678"
                >
            </div>

            <div class="mb-6">
                <label for="message" class="block text-sm font-bold text-slate-700 mb-2">
                    Mensaje <span class="text-red-500">*</span>
                </label>
                <textarea 
                    id="message" 
                    name="message" 
                    required 
                    rows="5"
                    class="w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition resize-none"
                    placeholder="Cuéntanos en qué podemos ayudarte..."
                ></textarea>
            </div>

            <button 
                type="submit" 
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg transition transform hover:-translate-y-0.5 flex items-center justify-center gap-2"
            >
                <i class="fa-solid fa-paper-plane"></i>
                <span>Enviar Mensaje</span>
            </button>
        </form>

        <div class="mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <p class="text-sm text-blue-800">
                <i class="fa-solid fa-info-circle mr-2"></i>
                <strong>Nota:</strong> Al enviar el formulario por primera vez, recibirás un email de confirmación. 
                Haz clic en el enlace para activar el formulario.
            </p>
        </div>
    </div>
</section>
