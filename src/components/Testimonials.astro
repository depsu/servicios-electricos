---
interface Review {
    name: string;
    text: string;
    rating: number;
    location?: string;
    image?: string;
}

interface Props {
    title?: string;
    subtitle?: string;
    reviews: Review[];
}

const { 
    title = "Lo que dicen nuestros clientes", 
    subtitle = "La satisfacción de nuestros clientes es nuestra mejor carta de presentación.",
    reviews 
} = Astro.props;
---

<section class="py-20 bg-slate-50">
    <div class="container mx-auto px-4">
        <div class="text-center max-w-3xl mx-auto mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">{title}</h2>
            <p class="text-lg text-slate-600">{subtitle}</p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
            {reviews.map((review) => (
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow relative">
                    <div class="flex text-yellow-400 mb-4 text-sm">
                        {Array.from({ length: 5 }).map((_, i) => (
                            <i class={`fa-solid fa-star ${i < review.rating ? '' : 'text-slate-200'}`}></i>
                        ))}
                    </div>
                    
                    <p class="text-slate-600 mb-6 italic">"{review.text}"</p>
                    
                    <div class="flex items-center gap-4">
                        {review.image ? (
                            <img src={review.image} alt={review.name} class="w-12 h-12 rounded-full object-cover" />
                        ) : (
                            <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-lg">
                                {review.name.charAt(0)}
                            </div>
                        )}
                        <div>
                            <h4 class="font-bold text-slate-900 text-sm">{review.name}</h4>
                            {review.location && <p class="text-xs text-slate-500">{review.location}</p>}
                        </div>
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>
